:root{
  --bg-1: 236 240 255;           /* light background tone (RGB) */
  --bg-2: 247 250 255;
  --card-bg: 255 255 255;
  --glass-alpha: .66;
  --muted: #6b7280;
  --accent: 61 137 255;         /* accent RGB (usable with rgba) */
  --accent-hex: #3d89ff;
  --radius: 14px;
  --pad: 1.1rem;
  --maxw: 980px;
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color-scheme: light dark;
}

/* --- page layout --- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  min-height:100%;
  background: linear-gradient(180deg, rgba(var(--bg-1),1) 0%, rgba(var(--bg-2),1) 55%);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  color: #0f172a;
  line-height:1.5;
  transition:background .35s ease,color .25s ease;
}
.wrap{
  max-width:var(--maxw);
  margin:0 auto;
  padding:clamp(0.8rem,2.5vw,1.6rem);
}

/* subtle page pattern (CSS only) */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:
    radial-gradient(800px 300px at 10% 10%, rgba(61,137,255,0.06), transparent 10%),
    radial-gradient(600px 200px at 90% 90%, rgba(99,102,241,0.04), transparent 10%);
  pointer-events:none;
  z-index:0;
}

/* --- header --- */
.site-header{
  position:relative;
  z-index:5;
  padding:0.45rem 0;
  margin-bottom:.4rem;
}
.header-inner{
  display:flex;
  gap:12px;
  align-items:center;
  justify-content:space-between;
}
.brand-with-photo{display:flex;align-items:center;gap:12px}
.header-photo{
  width:56px;height:56px;border-radius:12px;object-fit:cover;border:1px solid rgba(255,255,255,0.6);
  box-shadow:0 8px 24px rgba(16,24,40,0.06);
  transition:transform .18s ease, box-shadow .18s ease;
  background:linear-gradient(180deg,rgba(255,255,255,0.6),rgba(255,255,255,0.4));
}
.header-photo:hover{transform:translateY(-3px) scale(1.03);box-shadow:0 18px 40px rgba(16,24,40,0.12)}
.brand-text a#homeLinkText{font-weight:700;color:rgb(var(--accent));text-decoration:none;font-size:1.05rem}
.subtitle{font-size:.86rem;color:var(--muted)}

/* --- tabs / tablist --- */
.tabs-wrap{margin-top:0.85rem}
#tablist{display:flex;gap:.5rem;flex-wrap:wrap;z-index:5}
#tablist [role="tab"]{
  background:transparent;border:0;padding:.55rem .9rem;border-radius:999px;cursor:pointer;font-weight:600;
  color: rgba(15,23,42,0.8); transition:transform .14s ease, background .18s ease, color .18s ease;
  backdrop-filter: blur(6px);
}
#tablist [role="tab"][aria-selected="true"]{
  color:#fff;
  background:linear-gradient(90deg, rgba(var(--accent),1), rgba(61,104,255,0.9));
  box-shadow:0 8px 28px rgba(61,137,255,0.16);
  transform:translateY(-2px);
}

/* --- panels (glass cards) --- */
.panel{
  margin-top:1rem;
  border-radius:var(--radius);
  padding:1rem;
  position:relative;
  z-index:2;
  background: rgba(var(--card-bg), var(--glass-alpha));
  box-shadow: 0 8px 30px rgba(11,15,30,0.06);
  border:1px solid rgba(255,255,255,0.5);
  backdrop-filter: blur(6px) saturate(120%);
  transition:transform .18s ease, box-shadow .18s ease;
  color:inherit;
}

/* reduce visual noise on small cards */
.panel h2{margin-top:0}

/* --- publications grid (modern cards) --- */
.pub-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1rem;margin-top:1rem}
.pub-card{display:flex;flex-direction:column;border-radius:12px;overflow:hidden;transition:transform .16s ease, box-shadow .16s ease;border:1px solid rgba(12,16,30,0.04)}
.pub-card:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(11,15,30,0.08)}
.pub-thumb img{width:100%;height:140px;object-fit:cover;display:block}
.pub-body{padding:.9rem;background:linear-gradient(180deg, rgba(255,255,255,0.4), rgba(255,255,255,0.32))}
.pub-title{font-size:1rem;margin:0 0 .3rem;color:rgb(10,25,50)}
.pub-meta{color:var(--muted);font-size:.9rem;margin:0 0 .5rem}
.pub-actions{display:flex;gap:.5rem;align-items:center}

/* button */
.btn{display:inline-flex;align-items:center;gap:.45rem;padding:.45rem .7rem;border-radius:10px;border:0;background:rgb(var(--accent));color:white;text-decoration:none;font-weight:600;cursor:pointer}
.btn:active{transform:translateY(1px)}

/* small note */
.note{margin-top:.8rem;color:var(--muted);font-size:.9rem}

/* --- footer --- */
.site-footer{margin-top:2rem;padding:1rem 0;color:var(--muted);font-size:.9rem;text-align:center}

/* --- responsive --- */
@media (max-width:900px){
  .wrap{padding:clamp(.6rem,3vw,1rem)}
}
@media (max-width:520px){
  .header-photo{display:none}
  #tablist{gap:.35rem}
  #tablist [role="tab"]{padding:.5rem .65rem;font-size:.95rem}
  .pub-thumb img{height:120px}
}

/* --- dark theme (prefers-color-scheme) --- */
@media (prefers-color-scheme: dark){
  :root{
    --card-bg: 22 25 30;
    --glass-alpha: 0.18;
    --muted: #9aa3b2;
  }
  body{
    background: linear-gradient(180deg, #071025 0%, #071827 65%);
    color:#e6eef8;
  }
  .panel{border:1px solid rgba(255,255,255,0.03); box-shadow: 0 10px 40px rgba(3,7,18,0.6)}
  #tablist [role="tab"]{color:rgba(255,255,255,0.85)}
  #tablist [role="tab"][aria-selected="true"]{box-shadow:0 10px 40px rgba(30,60,160,0.18)}
  .pub-body{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))}
  .btn{background:linear-gradient(90deg, rgba(61,137,255,1), rgba(61,104,255,0.95))}
}
/* theme override when user picks a theme (force light/dark) */
:root.force-dark, .force-dark {
  /* nothing by itself, but let media query below read it */
}
@media (prefers-color-scheme: dark){
  /* existing dark styles apply */
}
/* Simple override: if user chose dark, force dark colors */
:root[data-theme="dark"] body,
[data-theme="dark"] body,
.force-dark body {
  background: linear-gradient(180deg, #071025 0%, #071827 65%);
  color:#e6eef8;
}
